{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>voting</title>

    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>


    <header>
        <h1>
            網頁標題
        </h1>
    </header>
    <!-- 標題 -->
    <h1>voting</h1>

    <!-- 用於顯示投票選項的列表 -->
    <ul id="poll-options">
        <li>
            <input type="radio" name="poll-option" id="option-1" value="1" />
            <label for="option-1">選項1</label>
            <button class="delete-option-button">刪除</button>
        </li>
        <li>
            <input type="radio" name="poll-option" id="option-2" value="2" />
            <label for="option-2">選項2</label>
            <button class="delete-option-button">刪除</button>
        </li>
    </ul>

    <!-- 用於輸入午餐名稱的輸入框 -->
    <input type="text" id="new-option-input" placeholder="輸入您的午餐名稱" />

    <!-- 用於提交午餐名稱的按鈕 -->
    <button id="add-option-button">添加選項</button>

    <!-- 用於顯示提交按鈕 -->
    <button id="submit-poll">提交</button>


    <footer>

        <p>頁腳處，可在此聲明版權、使用規範等等</p>
    </footer>

    <script>


        const options = document.querySelectorAll("#poll-options li");

        // 獲取投票選項列表元素
        const pollOptions = document.getElementById("poll-options");

        // 遍歷選項列表，並為每個選項的刪除按鈕添加點擊事件監聽器
        options.forEach(function (option) {
            const deleteButton = option.querySelector(".delete-option-button");
            deleteButton.addEventListener("click", function (e) {
                // 獲取該刪除按鈕所在的選項元素，並從列表中刪除該選項元素
                const optionToDelete = e.target.parentElement;
                pollOptions.removeChild(optionToDelete);
            });
        });


        // 獲取添加選項按鈕和輸入框元素
        const addOptionButton = document.getElementById("add-option-button");
        const newOptionInput = document.getElementById("new-option-input");

        // 為添加選項按鈕添加點擊事件監聽器
        addOptionButton.addEventListener("click", function (e) {
            // 獲取輸入框中的午餐名稱
            const newOption = newOptionInput.value;

            // 如果午餐名稱不為空，則添加新選項
            if (newOption) {
                // 獲取投票選項列表元素
                const pollOptions = document.getElementById("poll-options");

                // 創建新的選項元素
                const newOptionElement = document.createElement("li");
                newOptionElement.innerHTML = `
  <input type="radio" name="poll-option" id="option-${newOption}" value="${newOption}" />
  <label for="option-${newOption}">${newOption}</label>
  <button class="delete-option-button">刪除</button>`;

                // 為刪除按鈕添加點擊事件監聽器
                const deleteButton = newOptionElement.querySelector(".delete-option-button");
                deleteButton.addEventListener("click", function (e) {
                    // 獲取該刪除按鈕所在的選項元素，並從列表中刪除該選項元素
                    const optionToDelete = e.target.parentElement;
                    pollOptions.removeChild(optionToDelete);
                });

                // 將新選項元素添加到選項列表中
                pollOptions.appendChild(newOptionElement);

                // 清空輸入框
                newOptionInput.value = "";
            }
        });



    </script>



</body>

</html>